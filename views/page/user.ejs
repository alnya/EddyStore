<%- partial('../includes/FormFieldTemplate.ejs') %>
<form id="entityForm" role="form" style="display: none;" data-bind="visible: DisplayForm">
<div class="row">
  <div class="col-md-6">
    <div class="panel panel-primary spacer">
      <div class="panel-heading">
        <h2 class="panel-title">User Details</h2>
      </div>
      <div class="panel-body" data-bind="with: EntityViewModel">
        <div data-bind='template: { name: "formFieldString", data: {Property: "Name", Name: "User Name"}}'></div>
        <div data-bind='template: { name: "formFieldString", data: {Property: "Email", Name: "Email"}}'></div>
        <div data-bind='template: { name: "formFieldPassword", data: {Property: "Password", Name: "Password"}}'></div>
        <div data-bind='template: { name: "formFieldPassword", data: {Property: "PasswordConfirm", Name: "Confirm Password"}}'></div>
        <p class="help-block">Enter a password and confirmation only if you want to change it.</p>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <% if (req.session.isAdmin) {%>
    <div class="panel panel-default spacer">
      <div class="panel-heading">
        <h2 class="panel-title">User Roles</h2>
      </div>
      <div class="panel-body" data-bind="with: EntityViewModel">
        <div data-bind='template: { name: "formFieldCheckBox", data: {Property: "Role_Uploader", Name: "Uploader"}}'></div>
        <div data-bind='template: { name: "formFieldCheckBox", data: {Property: "Role_Admin", Name: "Admin"}}'></div>
      </div>
    </div>
  </div>
  <% } %>
</div>




  <%- partial('../includes/FormButtons.ejs') %>

</form>

<script type="text/javascript">
  require(['knockout', 'baseForm', 'user'],
    function(ko, baseForm, vm) {
      baseForm.Initialise(vm());
    });
</script>

<%- partial('../includes/ModalDialogBox.ejs') %>
